<ng-container *rxLet="reportState$; let reportState">
  <h2 mat-dialog-title>Create and send report</h2>
  <mat-dialog-content class="mat-typography">
    <div class="data--table-container">
      <table mat-table [dataSource]="reportState.selectedData" class="data--table">
        <ng-container *ngFor="let column of reportState.displayedColumns" [matColumnDef]="column">
          <th mat-header-cell *matHeaderCellDef>{{column}}</th>
          <td mat-cell *matCellDef="let row">
            {{ row.data[column] | numberAuto : column }}
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="reportState.displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: reportState.displayedColumns;"></tr>
      </table>
    </div>
  </mat-dialog-content>
  <mat-dialog-actions align="end">
    <button mat-flat-button mat-dialog-close>Cancel</button>
    <button mat-flat-button color="primary" [mat-dialog-close]="true" cdkFocusInitial>Send report</button>
  </mat-dialog-actions>
</ng-container>